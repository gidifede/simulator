#!/bin/bash

#zipcodes=("00000" "11111" "22222" "00701" "00121" "44444" "60101")
zipcodes=(
"00601" "00602" "00603" "00604" "00605"
"00701" "00702" "00703" "00704" "00705"
"00801" "00802" "00803" "00804" "00805"
"00901" "00902" "00903" "00904" "00905"
"01101" "01102" "01103" "01104" "01105"
"02101" "02102" "02103" "02104" "02105"
"03101" "03102" "03103" "03104" "03105"
"04101" "04102" "04103" "04104" "04105"
"05101" "05102" "05103" "05104" "05105"
"06101" "06102" "06103" "06104" "06105"
"07101" "07102" "07103" "07104" "07105"
"08101" "08102" "08103" "08104" "08105"
"09101" "09102" "09103" "09104" "09105"
"10101" "10102" "10103" "10104" "10105"
"20101" "20102" "20103" "20104" "20105"
"30101" "30102" "30103" "30104" "30105"
"40101" "40102" "40103" "40104" "40105"
"50101" "50102" "50103" "50104" "50105"
"60101" "60102" "60103" "60104" "60105"
"70101" "70102" "70103" "70104" "70105"
"80101" "80102" "80103" "80104" "80105"
"90101" "90102" "90103" "90104" "90105"
"00111" "00112" "00113" "00114" "00115"
"00121" "00122" "00123" "00124" "00125"
"00131" "00132" "00133" "00134" "00135"
"00141" "00142" "00143" "00144" "00145"
"00151" "00152" "00153" "00154" "00155"
)

for ((i=1; i<=1000; i++))
do
    sender_zip=${zipcodes[$((RANDOM % ${#zipcodes[@]}))]}
    receiver_zip=${zipcodes[$((RANDOM % ${#zipcodes[@]}))]}

    curl --location --request POST 'http://localhost:5000/parcels/accept' \
    --header 'Content-Type: application/json' \
    --data-raw '[
        {
            "id": "aaa",
            "sender_zip_code": "'"$sender_zip"'",
            "receiver_zip_code": "'"$receiver_zip"'",
            "weight": 1,
            "size": 1
        }
    ]'
    
    echo "Request $i sent with sender zip: $sender_zip, receiver zip: $receiver_zip"
done
